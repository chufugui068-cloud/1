# 本地运行指南：一步一步打开网页应用

> 目标：让你在自己的电脑上成功打开我做的网页应用。

## 0. 你需要准备什么
1. 一台电脑（Windows 或 macOS）。
2. 网络正常。
3. 安装 Node.js（建议 18 或 20 版本）。

---

## 1. 安装 Node.js（如果你还没装）

### Windows
1. 打开 Node.js 官网：<https://nodejs.org>
2. 下载 **LTS** 版本安装包（`.msi`）。
3. 一路下一步安装。
4. 安装完成后，重开一个新的 PowerShell。

### macOS
1. 打开 Node.js 官网：<https://nodejs.org>
2. 下载 **LTS** 版本安装包（`.pkg`）。
3. 一路下一步安装。
4. 安装完成后，重开一个新的终端（Terminal）。

### 验证是否安装成功
在终端执行：
```bash
node -v
npm -v
```
看到版本号（例如 `v20.x.x`）就说明安装成功。

---

## 2. 把项目代码放到本地
你有两种方式：

### 方式A：如果你会 git
```bash
git clone <你的仓库地址>
cd 1
```

### 方式B：不会 git（更简单）
1. 在代码托管平台下载 ZIP。
2. 解压到本地文件夹，比如桌面。
3. 打开终端，`cd` 到解压后的项目目录。

---

## 2.5 这些文件要不要下载到电脑？
要的。**你必须先把整个项目下载到你电脑上**，否则没法运行网页应用。

你至少需要这些目录/文件在本地：
- `webapp/`（网页应用代码）
- `scripts/start-webapp-windows.bat`（Windows 一键启动脚本）

### 下载方式A（推荐，最简单）：下载 ZIP
1. 打开你的代码仓库网页。
2. 点击 **Code**（或“代码”）按钮。
3. 点击 **Download ZIP**。
4. 把 ZIP 解压到例如：`D:\jingcai-app\`。

解压后你应该能看到类似结构：
- `D:\jingcai-app\webapp\`
- `D:\jingcai-app\scripts\start-webapp-windows.bat`

### 下载方式B：用 Git 克隆（适合会用命令行）
在 PowerShell 执行：
```powershell
git clone <你的仓库地址>
cd <仓库目录>
```

---

## 3. 启动网页应用（关键步骤）
进入项目后执行：
```bash
cd webapp
npm start
```

如果你看到类似下面输出，说明服务已经启动：
```text
Web app running: http://localhost:8787
```

---

## 4. 在浏览器打开
复制下面地址到浏览器：

- <http://localhost:8787>

你会看到：
- 数据源筛选（500 / 球探）
- 今日比赛列表
- 点击“预测”后显示 ELO、BT、蒙特卡洛 5000 次、TOP3 比分、推荐理由
- VIP 演示充值按钮

---

## 5. 正确关闭服务
在运行 `npm start` 的终端窗口里按：

- `Ctrl + C`

即可停止服务。

---


## Windows 专属（最简单）
如果你是 Windows，可以直接双击运行：

- `scripts/start-webapp-windows.bat`

它会自动：
1. 检查你是否安装了 Node.js
2. 进入 `webapp` 目录
3. 启动服务（默认端口 8787）

启动成功后浏览器打开：
- <http://localhost:8787>

> 如果你想改端口，可先在 CMD 中执行：`set PORT=8790`，再双击 bat。

---

## 6. 常见问题（你最可能遇到的）

### 问题1：`node` 不是内部命令
原因：Node.js 没装好或终端未重开。

解决：
1. 重新安装 Node.js LTS。
2. 关闭终端再打开。
3. 再执行 `node -v`。

### 问题2：端口被占用（8787）
现象：启动时报端口冲突。

解决：
```bash
# Windows PowerShell
$env:PORT=8790; npm start

# macOS / Linux
PORT=8790 npm start
```
然后打开 <http://localhost:8790>

### 问题3：页面打不开
排查顺序：
1. 先看终端是否还在运行（不要关）。
2. 地址是否写成 `http://localhost:8787`。
3. 尝试换浏览器（Chrome/Edge/Safari）。

---

## 7. 下一步建议
当你本地打开成功后，我们下一步可以做：
1. 把示例数据改成真实抓取数据。
2. 接数据库保存历史记录。
3. 加登录和权限控制。
4. 最后再接微信支付（你有商户号后）。
